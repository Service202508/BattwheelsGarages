<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="7" skipped="0" tests="23" time="7.074" timestamp="2026-02-18T12:15:12.199772+00:00" hostname="agent-env-3cc3f5d4-d3d5-433d-b82d-7c2d3c0b488b"><testcase classname="backend.tests.test_items_phase2.TestContactPriceLists" name="test_assign_price_list_to_contact" time="1.022" /><testcase classname="backend.tests.test_items_phase2.TestContactPriceLists" name="test_get_contact_price_lists" time="0.925" /><testcase classname="backend.tests.test_items_phase2.TestContactPriceLists" name="test_get_contact_price_lists_not_found" time="0.929" /><testcase classname="backend.tests.test_items_phase2.TestLineItemPricing" name="test_calculate_line_prices_basic" time="0.258"><failure message="AssertionError: assert 'total' in {'code': 0, 'line_items': [{'base_rate': 200.0, 'discount_applied': 0, 'final_rate': 200.0, 'hsn_code': '', ...}], 'price_list_id': None, 'price_list_name': None, ...}">backend/tests/test_items_phase2.py:143: in test_calculate_line_prices_basic
    assert "total" in data
E   AssertionError: assert 'total' in {'code': 0, 'line_items': [{'base_rate': 200.0, 'discount_applied': 0, 'final_rate': 200.0, 'hsn_code': '', ...}], 'price_list_id': None, 'price_list_name': None, ...}</failure></testcase><testcase classname="backend.tests.test_items_phase2.TestLineItemPricing" name="test_calculate_line_prices_with_contact" time="0.257" /><testcase classname="backend.tests.test_items_phase2.TestLineItemPricing" name="test_calculate_line_prices_multiple_items" time="0.247" /><testcase classname="backend.tests.test_items_phase2.TestBulkPriceSetting" name="test_set_bulk_prices_percentage" time="0.262"><failure message="AssertionError: assert 'items_updated' in {'code': 0, 'message': 'Prices updated', 'results': {'created': 29, 'errors': [], 'updated': 0}}">backend/tests/test_items_phase2.py:257: in test_set_bulk_prices_percentage
    assert "items_updated" in data
E   AssertionError: assert 'items_updated' in {'code': 0, 'message': 'Prices updated', 'results': {'created': 29, 'errors': [], 'updated': 0}}</failure></testcase><testcase classname="backend.tests.test_items_phase2.TestBulkPriceSetting" name="test_set_bulk_prices_custom" time="0.251" /><testcase classname="backend.tests.test_items_phase2.TestBarcodeFeatures" name="test_create_barcode" time="0.171" /><testcase classname="backend.tests.test_items_phase2.TestBarcodeFeatures" name="test_barcode_lookup" time="0.220" /><testcase classname="backend.tests.test_items_phase2.TestBarcodeFeatures" name="test_barcode_lookup_not_found" time="0.198" /><testcase classname="backend.tests.test_items_phase2.TestBarcodeFeatures" name="test_batch_barcode_lookup" time="0.240"><failure message="AssertionError: Expected 200, got 422: {&quot;detail&quot;:[{&quot;type&quot;:&quot;list_type&quot;,&quot;loc&quot;:[&quot;body&quot;],&quot;msg&quot;:&quot;Input should be a valid list&quot;,&quot;input&quot;:{&quot;barcodes&quot;:[&quot;BC40C54C4246&quot;,&quot;NONEXISTENT-123&quot;]},&quot;url&quot;:&quot;https://errors.pydantic.dev/2.12/v/list_type&quot;}]}&#10;assert 422 == 200&#10; +  where 422 = &lt;Response [422]&gt;.status_code">backend/tests/test_items_phase2.py:372: in test_batch_barcode_lookup
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 422: {"detail":[{"type":"list_type","loc":["body"],"msg":"Input should be a valid list","input":{"barcodes":["BC40C54C4246","NONEXISTENT-123"]},"url":"https://errors.pydantic.dev/2.12/v/list_type"}]}
E   assert 422 == 200
E    +  where 422 = &lt;Response [422]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_items_phase2.TestAdvancedReports" name="test_sales_by_item_report" time="0.361"><failure message="AssertionError: assert 'items' in {'code': 0, 'report': {'items': [{'avg_selling_price': 6505.87, 'invoice_count': 41, 'item_id': 'inv_2ba20e2c61db', 'item_name': 'CONTROLLER REPAIR', ...}, {'avg_selling_price': 2842.36, 'invoice_count': 182, 'item_id': 'inv_02e1c86465ae', 'item_name': 'PAINTING WORK', ...}, {'avg_selling_price': 628.99, 'invoice_count': 971, 'item_id': 'inv_6664a68f9f82', 'item_name': 'LABOR CHARGE', ...}, {'avg_selling_price': 2566.71, 'invoice_count': 152, 'item_id': 'inv_d95c38167dae', 'item_name': 'FRONT HUB WITH STUD - ALTIGREEN-25', ...}, {'avg_selling_price': 2092.38, 'invoice_count': 252, 'item_id': 'inv_c53c47b5df69', 'item_name': 'HALF PROPELLER SHAFT LHS-ALT-25', ...}, {'avg_selling_price': 177.19, 'invoice_count': 3, 'item_id': 'inv_a9a0e40442d4', 'item_name': 'AMARON BATTERY 8 KW SAL(80KG)-25', ...}, ...], 'period': {'end_date': 'Present', 'start_date': 'All time'}, 'summary': {'total_items': 852, 'total_quantity_sold': 55169, 'total_revenue': 24726598.11}, 'title': 'Sales by Item'}}">backend/tests/test_items_phase2.py:397: in test_sales_by_item_report
    assert "items" in data
E   AssertionError: assert 'items' in {'code': 0, 'report': {'items': [{'avg_selling_price': 6505.87, 'invoice_count': 41, 'item_id': 'inv_2ba20e2c61db', 'item_name': 'CONTROLLER REPAIR', ...}, {'avg_selling_price': 2842.36, 'invoice_count': 182, 'item_id': 'inv_02e1c86465ae', 'item_name': 'PAINTING WORK', ...}, {'avg_selling_price': 628.99, 'invoice_count': 971, 'item_id': 'inv_6664a68f9f82', 'item_name': 'LABOR CHARGE', ...}, {'avg_selling_price': 2566.71, 'invoice_count': 152, 'item_id': 'inv_d95c38167dae', 'item_name': 'FRONT HUB WITH STUD - ALTIGREEN-25', ...}, {'avg_selling_price': 2092.38, 'invoice_count': 252, 'item_id': 'inv_c53c47b5df69', 'item_name': 'HALF PROPELLER SHAFT LHS-ALT-25', ...}, {'avg_selling_price': 177.19, 'invoice_count': 3, 'item_id': 'inv_a9a0e40442d4', 'item_name': 'AMARON BATTERY 8 KW SAL(80KG)-25', ...}, ...], 'period': {'end_date': 'Present', 'start_date': 'All time'}, 'summary': {'total_items': 852, 'total_quantity_sold': 55169, 'total_revenue': 24726598.11}, 'title': 'Sales by Item'}}</failure></testcase><testcase classname="backend.tests.test_items_phase2.TestAdvancedReports" name="test_sales_by_item_report_with_filters" time="0.251" /><testcase classname="backend.tests.test_items_phase2.TestAdvancedReports" name="test_purchases_by_item_report" time="0.113"><failure message="AssertionError: assert 'items' in {'code': 0, 'report': {'items': [], 'period': {'end_date': 'Present', 'start_date': 'All time'}, 'summary': {'total_cost': 0, 'total_items': 0, 'total_quantity_purchased': 0}, 'title': 'Purchases by Item'}}">backend/tests/test_items_phase2.py:428: in test_purchases_by_item_report
    assert "items" in data
E   AssertionError: assert 'items' in {'code': 0, 'report': {'items': [], 'period': {'end_date': 'Present', 'start_date': 'All time'}, 'summary': {'total_cost': 0, 'total_items': 0, 'total_quantity_purchased': 0}, 'title': 'Purchases by Item'}}</failure></testcase><testcase classname="backend.tests.test_items_phase2.TestAdvancedReports" name="test_inventory_valuation_report" time="0.116"><failure message="AssertionError: assert 'items' in {'code': 0, 'report': {'as_of_date': '2026-02-18', 'items': [{'cost_rate': 1000.0, 'item_id': 'I-1AD0E5AEBE7A', 'item_name': 'TEST_FullItem_ad5350', 'recent_lots': [], ...}, {'cost_rate': 800.0, 'item_id': 'I-A046C2238C9C', 'item_name': 'TEST_Item_cff306', 'recent_lots': [], ...}, {'cost_rate': 800.0, 'item_id': 'I-E7521F84431F', 'item_name': 'TEST_Item_89d19a', 'recent_lots': [], ...}, {'cost_rate': 800.0, 'item_id': 'I-0CBF6A00BFF2', 'item_name': 'TEST_Item_49b28a', 'recent_lots': [], ...}, {'cost_rate': 0, 'item_id': 'I-4661787D494B', 'item_name': 'TEST_GetItem_60e7c8', 'recent_lots': [], ...}, {'cost_rate': 0, 'item_id': 'I-1A0F537B2188', 'item_name': 'TEST_AdjItem_cf3d9e', 'recent_lots': [{'date': '2026-02-17', 'quantity': 25.0, 'rate': 0}], ...}, ...], 'summary': {'total_items': 29, 'total_stock_value': 220000.0}, 'title': 'Inventory Valuation', ...}}">backend/tests/test_items_phase2.py:443: in test_inventory_valuation_report
    assert "items" in data
E   AssertionError: assert 'items' in {'code': 0, 'report': {'as_of_date': '2026-02-18', 'items': [{'cost_rate': 1000.0, 'item_id': 'I-1AD0E5AEBE7A', 'item_name': 'TEST_FullItem_ad5350', 'recent_lots': [], ...}, {'cost_rate': 800.0, 'item_id': 'I-A046C2238C9C', 'item_name': 'TEST_Item_cff306', 'recent_lots': [], ...}, {'cost_rate': 800.0, 'item_id': 'I-E7521F84431F', 'item_name': 'TEST_Item_89d19a', 'recent_lots': [], ...}, {'cost_rate': 800.0, 'item_id': 'I-0CBF6A00BFF2', 'item_name': 'TEST_Item_49b28a', 'recent_lots': [], ...}, {'cost_rate': 0, 'item_id': 'I-4661787D494B', 'item_name': 'TEST_GetItem_60e7c8', 'recent_lots': [], ...}, {'cost_rate': 0, 'item_id': 'I-1A0F537B2188', 'item_name': 'TEST_AdjItem_cf3d9e', 'recent_lots': [{'date': '2026-02-17', 'quantity': 25.0, 'rate': 0}], ...}, ...], 'summary': {'total_items': 29, 'total_stock_value': 220000.0}, 'title': 'Inventory Valuation', ...}}</failure></testcase><testcase classname="backend.tests.test_items_phase2.TestAdvancedReports" name="test_item_movement_report" time="0.114"><failure message="AssertionError: Expected 200, got 422: {&quot;detail&quot;:[{&quot;type&quot;:&quot;missing&quot;,&quot;loc&quot;:[&quot;query&quot;,&quot;item_id&quot;],&quot;msg&quot;:&quot;Field required&quot;,&quot;input&quot;:null,&quot;url&quot;:&quot;https://errors.pydantic.dev/2.12/v/missing&quot;}]}&#10;assert 422 == 200&#10; +  where 422 = &lt;Response [422]&gt;.status_code">backend/tests/test_items_phase2.py:456: in test_item_movement_report
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 422: {"detail":[{"type":"missing","loc":["query","item_id"],"msg":"Field required","input":null,"url":"https://errors.pydantic.dev/2.12/v/missing"}]}
E   assert 422 == 200
E    +  where 422 = &lt;Response [422]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_items_phase2.TestAdvancedReports" name="test_item_movement_report_with_item_filter" time="0.179" /><testcase classname="backend.tests.test_items_phase2.TestExistingPhase1Features" name="test_items_list" time="0.137" /><testcase classname="backend.tests.test_items_phase2.TestExistingPhase1Features" name="test_price_lists" time="0.110" /><testcase classname="backend.tests.test_items_phase2.TestExistingPhase1Features" name="test_groups" time="0.110" /><testcase classname="backend.tests.test_items_phase2.TestExistingPhase1Features" name="test_warehouses" time="0.112" /><testcase classname="backend.tests.test_items_phase2.TestExistingPhase1Features" name="test_summary" time="0.301" /></testsuite></testsuites>