<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="6" skipped="0" tests="44" time="56.839" timestamp="2026-02-24T12:18:53.667823+00:00" hostname="agent-env-bccb8b21-7f1e-4de3-b03b-379e503276b7"><testcase classname="backend.tests.test_17flow_audit.TestFlow01Registration" name="test_register_page_accessible" time="0.260" /><testcase classname="backend.tests.test_17flow_audit.TestFlow01Registration" name="test_signup_creates_org" time="0.470" /><testcase classname="backend.tests.test_17flow_audit.TestFlow01Registration" name="test_user_has_owner_role" time="0.116" /><testcase classname="backend.tests.test_17flow_audit.TestFlow01Registration" name="test_onboarding_checklist_visible" time="0.121" /><testcase classname="backend.tests.test_17flow_audit.TestFlow02WorkshopProfile" name="test_update_org_profile" time="0.107" /><testcase classname="backend.tests.test_17flow_audit.TestFlow02WorkshopProfile" name="test_profile_persists" time="0.126" /><testcase classname="backend.tests.test_17flow_audit.TestFlow03InviteTeam" name="test_invite_technician" time="4.726" /><testcase classname="backend.tests.test_17flow_audit.TestFlow03InviteTeam" name="test_tech_user_no_finance_access" time="0.470" /><testcase classname="backend.tests.test_17flow_audit.TestFlow04Inventory" name="test_add_bms_module" time="0.154" /><testcase classname="backend.tests.test_17flow_audit.TestFlow04Inventory" name="test_add_brake_pad" time="0.111" /><testcase classname="backend.tests.test_17flow_audit.TestFlow04Inventory" name="test_items_appear_in_list" time="0.147" /><testcase classname="backend.tests.test_17flow_audit.TestFlow05CustomerVehicle" name="test_create_contact" time="0.113"><failure message="AssertionError: Contact create failed (400): {'detail': 'Contact with email rajesh@test.com already exists'}&#10;assert 400 in [200, 201]&#10; +  where 400 = &lt;Response [400]&gt;.status_code">backend/tests/test_17flow_audit.py:338: in test_create_contact
    assert res.status_code in [200, 201], f"Contact create failed ({res.status_code}): {data}"
E   AssertionError: Contact create failed (400): {'detail': 'Contact with email rajesh@test.com already exists'}
E   assert 400 in [200, 201]
E    +  where 400 = &lt;Response [400]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_17flow_audit.TestFlow05CustomerVehicle" name="test_add_vehicle_to_contact" time="0.000"><failure message="AssertionError: No contact from Flow 05&#10;assert None">backend/tests/test_17flow_audit.py:354: in test_add_vehicle_to_contact
    assert state["contact_id"], "No contact from Flow 05"
E   AssertionError: No contact from Flow 05
E   assert None</failure></testcase><testcase classname="backend.tests.test_17flow_audit.TestFlow06CreateTicket" name="test_create_ticket" time="0.118" /><testcase classname="backend.tests.test_17flow_audit.TestFlow06CreateTicket" name="test_ticket_has_unique_id" time="0.000" /><testcase classname="backend.tests.test_17flow_audit.TestFlow06CreateTicket" name="test_dashboard_open_count" time="0.121" /><testcase classname="backend.tests.test_17flow_audit.TestFlow07EFIDiagnostics" name="test_efi_diagnose" time="42.685" /><testcase classname="backend.tests.test_17flow_audit.TestFlow07EFIDiagnostics" name="test_efi_failure_cards" time="0.152" /><testcase classname="backend.tests.test_17flow_audit.TestFlow08CloseTicket" name="test_update_status_in_progress" time="0.114" /><testcase classname="backend.tests.test_17flow_audit.TestFlow08CloseTicket" name="test_close_ticket_with_resolution" time="0.113" /><testcase classname="backend.tests.test_17flow_audit.TestFlow08CloseTicket" name="test_ticket_shows_resolved" time="0.115" /><testcase classname="backend.tests.test_17flow_audit.TestFlow09CreateInvoice" name="test_create_invoice" time="0.227" /><testcase classname="backend.tests.test_17flow_audit.TestFlow09CreateInvoice" name="test_invoice_gst_calculated" time="0.106"><failure message="AssertionError: No GST amounts in invoice: ['invoice_id', 'invoice_number', 'customer_id', 'customer_name', 'customer_email', 'customer_phone', 'customer_gstin', 'billing_address', 'shipping_address', 'reference_number', 'salesorder_id', 'estimate_id', 'invoice_date', 'due_date', 'payment_terms', 'place_of_supply', 'is_inclusive_tax', 'reverse_charge', 'discount_type', 'discount_value', 'shipping_charge', 'adjustment', 'adjustment_description', 'sub_total', 'item_discount', 'invoice_discount', 'total_discount', 'taxable_amount', 'cgst_total', 'sgst_total', 'igst_total', 'tax_total', 'grand_total', 'balance_due', 'amount_paid', 'credits_applied', 'write_off_amount', 'status', 'customer_notes', 'terms_conditions', 'template_id', 'attachment_names', 'custom_fields', 'payment_count', 'last_payment_date', 'is_sent', 'sent_date', 'viewed_date', 'paid_date', 'voided_date', 'created_time', 'updated_time', 'organization_id', 'line_items', 'payments', 'payments_received', 'available_credits', 'total_available_credits', 'history']&#10;assert False">backend/tests/test_17flow_audit.py:609: in test_invoice_gst_calculated
    assert has_gst, f"No GST amounts in invoice: {list(invoice.keys())}"
E   AssertionError: No GST amounts in invoice: ['invoice_id', 'invoice_number', 'customer_id', 'customer_name', 'customer_email', 'customer_phone', 'customer_gstin', 'billing_address', 'shipping_address', 'reference_number', 'salesorder_id', 'estimate_id', 'invoice_date', 'due_date', 'payment_terms', 'place_of_supply', 'is_inclusive_tax', 'reverse_charge', 'discount_type', 'discount_value', 'shipping_charge', 'adjustment', 'adjustment_description', 'sub_total', 'item_discount', 'invoice_discount', 'total_discount', 'taxable_amount', 'cgst_total', 'sgst_total', 'igst_total', 'tax_total', 'grand_total', 'balance_due', 'amount_paid', 'credits_applied', 'write_off_amount', 'status', 'customer_notes', 'terms_conditions', 'template_id', 'attachment_names', 'custom_fields', 'payment_count', 'last_payment_date', 'is_sent', 'sent_date', 'viewed_date', 'paid_date', 'voided_date', 'created_time', 'updated_time', 'organization_id', 'line_items', 'payments', 'payments_received', 'available_credits', 'total_available_credits', 'history']
E   assert False</failure></testcase><testcase classname="backend.tests.test_17flow_audit.TestFlow10RecordPayment" name="test_record_payment" time="0.339"><failure message="requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)">/root/.venv/lib/python3.11/site-packages/requests/models.py:976: in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/json/__init__.py:346: in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/json/decoder.py:337: in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/lib/python3.11/json/decoder.py:355: in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
E   json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:
backend/tests/test_17flow_audit.py:635: in test_record_payment
    data = res.json()
           ^^^^^^^^^^
/root/.venv/lib/python3.11/site-packages/requests/models.py:980: in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
E   requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)</failure></testcase><testcase classname="backend.tests.test_17flow_audit.TestFlow10RecordPayment" name="test_invoice_status_paid" time="0.126"><failure message="AssertionError: Invoice status should be paid, got 'draft'&#10;assert 'draft' in ['paid', 'Paid', 'PAID']">backend/tests/test_17flow_audit.py:651: in test_invoice_status_paid
    assert status in ["paid", "Paid", "PAID"], \
E   AssertionError: Invoice status should be paid, got 'draft'
E   assert 'draft' in ['paid', 'Paid', 'PAID']</failure></testcase><testcase classname="backend.tests.test_17flow_audit.TestFlow11FinancialReports" name="test_trial_balance_loads" time="0.114" /><testcase classname="backend.tests.test_17flow_audit.TestFlow11FinancialReports" name="test_profit_loss_loads" time="0.133" /><testcase classname="backend.tests.test_17flow_audit.TestFlow11FinancialReports" name="test_gst_summary_loads" time="0.350" /><testcase classname="backend.tests.test_17flow_audit.TestFlow12TallyExport" name="test_tally_export" time="0.105"><failure message="AssertionError: Tally export failed: 404 {&quot;detail&quot;:&quot;No journal entries found between 2026-01-01 and 2026-03-31.&quot;}&#10;assert 404 == 200&#10; +  where 404 = &lt;Response [404]&gt;.status_code">backend/tests/test_17flow_audit.py:720: in test_tally_export
    assert res.status_code == 200, f"Tally export failed: {res.status_code} {res.text[:200]}"
E   AssertionError: Tally export failed: 404 {"detail":"No journal entries found between 2026-01-01 and 2026-03-31."}
E   assert 404 == 200
E    +  where 404 = &lt;Response [404]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_17flow_audit.TestFlow13Payroll" name="test_add_employee" time="0.457" /><testcase classname="backend.tests.test_17flow_audit.TestFlow13Payroll" name="test_run_payroll" time="0.551" /><testcase classname="backend.tests.test_17flow_audit.TestFlow13Payroll" name="test_payroll_records_available" time="0.441" /><testcase classname="backend.tests.test_17flow_audit.TestFlow14PublicTicket" name="test_public_form_accessible" time="0.112" /><testcase classname="backend.tests.test_17flow_audit.TestFlow14PublicTicket" name="test_public_submit_without_slug_gives_friendly_error" time="0.120" /><testcase classname="backend.tests.test_17flow_audit.TestFlow14PublicTicket" name="test_public_vehicle_categories" time="0.112" /><testcase classname="backend.tests.test_17flow_audit.TestFlow15DataInsights" name="test_insights_revenue" time="0.139" /><testcase classname="backend.tests.test_17flow_audit.TestFlow15DataInsights" name="test_insights_operations" time="0.140" /><testcase classname="backend.tests.test_17flow_audit.TestFlow15DataInsights" name="test_insights_technician" time="0.105" /><testcase classname="backend.tests.test_17flow_audit.TestFlow15DataInsights" name="test_insights_inventory" time="0.119" /><testcase classname="backend.tests.test_17flow_audit.TestFlow15DataInsights" name="test_insights_efi" time="0.116" /><testcase classname="backend.tests.test_17flow_audit.TestFlow15DataInsights" name="test_insights_customer" time="0.103" /><testcase classname="backend.tests.test_17flow_audit.TestFlow16BookDemo" name="test_book_demo_endpoint" time="2.130" /><testcase classname="backend.tests.test_17flow_audit.TestFlow16BookDemo" name="test_book_demo_validation" time="0.130" /><testcase classname="backend.tests.test_17flow_audit.TestCleanup" name="test_report_audit_org" time="0.000" /></testsuite></testsuites>